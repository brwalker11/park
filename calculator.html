<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Calculator | ParkingProfit Solutions</title>
  <meta name="description" content="Unlock passive income from your parking lot with automated enforcement and revenue optimization.">
  <meta name="keywords" content="make money parking lot, monetize parking lot, parking enforcement software, parking revenue">
  <link rel="icon" href="data:;base64,iVBORw0KGgo=">
  <link rel="stylesheet" href="styles.css">
  <script defer src="script.js"></script>
  <script type="application/ld+json">{
    "@context":"https://schema.org",
    "@type":"Organization",
    "name":"ParkingProfit Solutions",
    "url":"https://parkingprofit.com",
    "logo":"https://parkingprofit.com/logo.png"
  }</script>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="logo">ParkingProfit<span style="color:#111827;font-weight:600"> Solutions</span></div>
      <nav>
        <a href="index.html" class="">Home</a>
        <a href="services.html" class="">Services</a>
        <a href="about.html" class="">About</a>
        <a href="resources.html" class="">Resources</a>
        <a href="faq.html" class="">FAQ</a>
        <a href="calculator.html" class="active">Calculator</a>
        <a href="contact.html" class="">Contact</a>
      </nav>
    </div>
  </header>

  <main>
    <!-- PAGE HERO -->
    <section class="page-hero">
      <div class="container">
        <h1 class="page-title">Calculator</h1>
        <p class="page-subtitle">Get a ballpark monthly revenue estimate. Toggle uplift if you plan to add LPR.</p>
      </div>
    </section>

    <!-- CALCULATOR BODY -->
    <section class="calc">
      <div class="container">
        <div class="layout">

          <!-- LEFT: FORM -->
          <div class="left">
            <!-- Mode switch -->
            <div class="card">
              <div class="segmented" role="tablist" aria-label="Calculator mode" aria-describedby="modeHelp">
                <button class="seg is-active" data-mode="retail" role="tab" aria-selected="true" tabindex="0" type="button">Retail</button>
                <button class="seg" data-mode="nights" role="tab" aria-selected="false" tabindex="-1" type="button">Nights &amp; Weekends</button>
                <button class="seg" data-mode="campus" role="tab" aria-selected="false" tabindex="-1" type="button">Campus</button>
              </div>
              <p id="modeHelp" class="muted small">Retail: steady daytime demand.</p>
            </div>

            <!-- Inputs -->
            <form id="calcForm" class="card" novalidate>
              <div class="grid">
                <div class="field">
                  <label for="spaces">Number of spaces</label>
                  <input id="spaces" name="spaces" type="number" min="0" step="1" value="50" />
                </div>

                <div class="field">
                  <label for="occ">Average occupancy</label>
                  <div class="affix with-suffix">
                    <input id="occ" name="occ" type="number" min="0" max="100" step="1" value="45" aria-describedby="occSuf" />
                    <span class="suffix" id="occSuf">%</span>
                  </div>
                </div>

                <div class="field">
                  <label for="hours">Avg paid hours per occupied space/day</label>
                  <input id="hours" name="hours" type="number" min="0" step="0.1" value="1.8" />
                </div>

                <div class="field">
                  <label for="rate">Average rate per hour</label>
                  <div class="affix with-prefix">
                    <span class="prefix" aria-hidden="true">$</span>
                    <input id="rate" name="rate" type="number" min="0" step="0.25" value="3.00" inputmode="decimal" />
                  </div>
                </div>

                <div class="field">
                  <label for="days">Chargeable days per month</label>
                  <input id="days" name="days" type="number" min="0" max="31" step="1" value="30" />
                </div>

                <div class="field field--uplift">
                  <label for="uplift">Compliance uplift percent</label>
                  <div class="uplift-controls">
                    <input id="uplift" name="uplift" type="range" min="0" max="40" step="1" value="10" />
                    <div class="uplift-readout" aria-live="polite"><span id="upliftPct">10</span>%</div>
                    <label class="check uplift-check">
                      <input id="applyUplift" type="checkbox" checked />
                      <span>Apply uplift (for LPR / stricter compliance)</span>
                    </label>
                  </div>
                </div>
              </div>

              <p class="muted small">Estimates are illustrative; actuals depend on demand, rules, signage, and local conditions.</p>
            </form>

          </div>

          <!-- RIGHT: STICKY SUMMARY -->
          <aside class="right">
            <div class="card summary">
              <div class="kpis">
                <div class="kpi">
                  <div class="kpi-label">Monthly gross</div>
                  <div class="kpi-value" id="kpiGross" aria-live="polite">$0</div>
                </div>
                <div class="kpi">
                  <div class="kpi-label">Gross with uplift</div>
                  <div class="kpi-value" id="kpiUplift" aria-live="polite">$0</div>
                </div>
                <div class="kpi">
                  <div class="kpi-label">Estimated monthly total</div>
                  <div class="kpi-value" id="kpiTotal" aria-live="polite">$0</div>
                </div>
              </div>
              <a class="btn btn-primary btn-block" href="contact.html">Book a free assessment</a>
              <a class="btn btn-primary btn-block" href="services.html">How we implement</a>
            </div>
          </aside>

        </div>
      </div>
    </section>

    <footer>
      <div class="small">Â© <span id="year"></span> ParkingProfit Solutions - Built for parking lot owners who want results.</div>
    </footer>
  </main>

  <!-- PAGE-SCOPED STYLES -->
  <style>
    :root{
      --mx:1200px;
      --ink:#0f172a; --muted:#6b7280; --bd:#e6e8ee; --bg:#f7f8fb;
      --card:#fff; --radius:14px; --shadow:0 2px 10px rgba(15,23,42,.06);
      --blue:#0A68FF; --blue-600:#005CE6;
    }
    main{--pad:24px; --gap:24px;}
    main .container{max-width:var(--mx); margin:0 auto; padding:0 var(--pad);}  
    .page-hero{padding:48px 0 8px; background:#fff;}
    .page-title{font-size:44px; line-height:1.1; font-weight:800; color:var(--ink); margin:0;}
    .page-subtitle{margin-top:10px; color:#3b4151; max-width:70ch}
    .calc{background:var(--bg); padding:8px 0 56px;}
    .layout{display:grid; grid-template-columns:1.25fr .75fr; gap:var(--gap);}  
    .left,.right{display:flex; flex-direction:column; gap:var(--gap);}  
    .card{background:var(--card); border:1px solid var(--bd); border-radius:var(--radius); box-shadow:var(--shadow); padding:22px;}
    .summary{position:sticky; top:18px;}
    .kpis{display:grid; grid-template-columns:1fr; gap:14px; margin-bottom:12px}
    .kpi-label{color:var(--muted); font-weight:600; margin-bottom:4px}
    .kpi-value{font-size:34px; font-weight:800; letter-spacing:-0.02em; color:#0b1220}
    .btn{display:inline-flex; align-items:center; justify-content:center; height:44px; padding:0 18px; border-radius:10px; font-weight:700; border:1px solid transparent; text-decoration:none; cursor:pointer; transition:background .2s ease, border-color .2s ease;}
    .btn:focus-visible{outline:none; box-shadow:0 0 0 3px rgba(10,104,255,.25);}
    .btn-block{width:100%}
    .btn-primary{background:var(--blue); color:#fff}
    .btn-primary:hover{background:var(--blue-600)}
    .segmented{display:grid; grid-template-columns:repeat(3,1fr); gap:8px}
    .seg{height:40px; border:1px solid var(--bd); border-radius:10px; background:#f3f5f9; font-weight:700; cursor:pointer; color:var(--ink);}
    .seg.is-active{background:#e6efff; border-color:#bcd4ff}
    .seg:focus-visible{outline:none; box-shadow:0 0 0 3px rgba(10,104,255,.35);}
    .muted{color:var(--muted)}
    .small{font-size:13px}
    .grid{display:grid; grid-template-columns:1fr 1fr; gap:var(--gap)}
    .field{display:flex; flex-direction:column; gap:8px}
    label{font-weight:600; color:#283042}
    input[type="number"]{
      width:100%; height:44px; border:1px solid var(--bd); border-radius:10px; padding:0 12px; font-size:16px; background:#fff;
    }
    input[type="range"]{width:100%;}
    input:focus{outline:none; border-color:var(--blue); box-shadow:0 0 0 3px rgba(10,104,255,.15)}
    .affix{position:relative}
    .prefix,.suffix{position:absolute; top:50%; transform:translateY(-50%); color:#6b7280; font-weight:600; pointer-events:none}
    .prefix{left:12px}
    .suffix{right:12px}
    .affix.with-prefix input{padding-left:32px}
    .affix.with-suffix input{padding-right:36px}
    .check{display:flex; align-items:center; gap:10px; margin-top:8px; user-select:none}
    .field--uplift .uplift-controls{display:flex; align-items:center; gap:16px; flex-wrap:wrap}
    .field--uplift input[type="range"]{flex:1 1 220px; min-width:160px}
    .uplift-readout{display:inline-flex; align-items:center; justify-content:center; min-width:64px; padding:6px 14px; border-radius:999px; background:#eef2ff; color:var(--ink); font-size:18px; font-weight:700; letter-spacing:-0.01em; font-variant-numeric:tabular-nums}
    .uplift-check{margin-top:0; gap:8px}
    .uplift-check input{width:18px; height:18px; accent-color:var(--blue)}
    @media (max-width: 1024px){
      main{--pad:16px; --gap:16px;}
      .layout{grid-template-columns:1fr;}
      .summary{position:static}
      .page-title{font-size:36px}
      .grid{grid-template-columns:1fr;}
    }
  </style>

  <!-- CALC JS -->
  <script>
    (function(){
      const $ = (id)=>document.getElementById(id);
      const segs = Array.from(document.querySelectorAll('.segmented .seg'));
      const fmtMoney = (n)=> (Number.isFinite(n)?n:0).toLocaleString(undefined,{style:'currency',currency:'USD',maximumFractionDigits:0});
      const modeDescriptions = {
        retail: 'Retail: steady daytime demand.',
        nights: 'Nights & Weekends: event-driven peaks.',
        campus: 'Campus: class-block patterns.'
      };
      const modeOrder = segs.map(btn=>btn.dataset.mode);
      let currentMode = document.querySelector('.seg.is-active')?.dataset.mode || 'retail';

      function modeDefaults(mode){
        if(mode==='nights') return { occ: 35, hours: 2.4, rate: 4.00, days: 16 };
        if(mode==='campus') return { occ: 55, hours: 1.4, rate: 2.50, days: 22 };
        return { occ: 45, hours: 1.8, rate: 3.00, days: 30 };
      }

      function updateModeUI(){
        segs.forEach(btn=>{
          const isActive = btn.dataset.mode === currentMode;
          btn.classList.toggle('is-active', isActive);
          btn.setAttribute('aria-selected', String(isActive));
          btn.setAttribute('tabindex', isActive ? '0' : '-1');
        });
        const help = $('modeHelp');
        if(help){ help.textContent = modeDescriptions[currentMode]; }
      }

      function applyMode(mode){
        currentMode = mode;
        const defaults = modeDefaults(mode);
        $('occ').value = defaults.occ;
        $('hours').value = defaults.hours;
        $('rate').value = defaults.rate.toFixed(2);
        $('days').value = defaults.days;
        updateModeUI();
        recalc();
      }

      function recalc(){
        const spaces = +$('spaces').value || 0;
        const occ = Math.min(100, Math.max(0, +$('occ').value || 0))/100;
        const hours = +$('hours').value || 0;
        const rate = +$('rate').value || 0;
        const days = +$('days').value || 0;
        const base = spaces * occ * hours * rate * days;

        const up = +$('uplift').value || 0;
        $('upliftPct').textContent = up;
        const apply = $('applyUplift').checked;

        const gross = base;
        const grossWith = apply ? base * (1 + up/100) : base;

        $('kpiGross').textContent = fmtMoney(gross);
        $('kpiUplift').textContent = fmtMoney(grossWith);
        $('kpiTotal').textContent  = fmtMoney(grossWith);
      }

      ['spaces','occ','hours','rate','days','uplift'].forEach(id => {
        const el = $(id);
        if(el){ el.addEventListener('input', recalc); el.addEventListener('change', recalc); }
      });
      const applyCheckbox = $('applyUplift');
      if(applyCheckbox){
        applyCheckbox.addEventListener('input', recalc);
        applyCheckbox.addEventListener('change', recalc);
      }

      segs.forEach(btn=>{
        btn.addEventListener('click', ()=>{
          const mode = btn.dataset.mode;
          if(mode && mode !== currentMode){
            applyMode(mode);
          }
        });
        btn.addEventListener('keydown', (event)=>{
          if(event.key !== 'ArrowRight' && event.key !== 'ArrowLeft') return;
          event.preventDefault();
          const dir = event.key === 'ArrowRight' ? 1 : -1;
          const index = modeOrder.indexOf(currentMode);
          const nextIndex = (index + dir + modeOrder.length) % modeOrder.length;
          const nextMode = modeOrder[nextIndex];
          const nextBtn = segs.find(b=>b.dataset.mode===nextMode);
          if(nextBtn){
            nextBtn.focus();
            applyMode(nextMode);
          }
        });
      });

      updateModeUI();
      recalc();
    })();
  </script>
</body>
</html>
